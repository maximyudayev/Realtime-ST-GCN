#!/bin/bash
# 1 epoch runs to measure the time needed per configuration
#qsub -l walltime=30:00 -N st_gcn_pkummd_orig_9_50_64_1_debug -F "--epochs 1 --kernel 9 --receptive_field 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_debug.pbs
#qsub -l walltime=30:00 -N st_gcn_pkummd_orig_21_50_64_1_debug -F "--epochs 1 --kernel 21 --receptive_field 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_debug.pbs
#qsub -l walltime=30:00 -N st_gcn_pkummd_orig_69_50_64_1_debug -F "--epochs 1 --kernel 69 --receptive_field 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_debug.pbs
#qsub -l walltime=30:00 -N st_gcn_pkummd_orig_153_50_64_1_debug -F "--epochs 1 --kernel 153 --receptive_field 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_debug.pbs
#qsub -l walltime=30:00 -N st_gcn_pkummd_orig_299_50_64_1_debug -F "--epochs 1 --kernel 299 --receptive_field 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_debug.pbs


# Actual training runs
# Receptive field = 50 can be run on P100 GPUs (Genius)
qsub -l walltime=17:00:00 -N st_gcn_pkummd_orig_9_50_64_50 -F "--epochs 50 --kernel 9 --receptive_field 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_train.pbs
#qsub -l walltime=00:00:00 -N st_gcn_pkummd_orig_21_50_64_50 -F "--epochs 50 --kernel 21 --receptive_field 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_train.pbs
#qsub -l walltime=00:00:00 -N st_gcn_pkummd_orig_69_50_64_50 -F "--epochs 50 --kernel 69 --receptive_field 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_train.pbs
#qsub -l walltime=00:00:00 -N st_gcn_pkummd_orig_153_50_64_50 -F "--epochs 50 --kernel 153 --receptive_field 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_train.pbs
#qsub -l walltime=00:00:00 -N st_gcn_pkummd_orig_299_50_64_50 -F "--epochs 50 --kernel 299 --receptive_field 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_train.pbs

qsub -l walltime=17:00:00 -N st_gcn_pkummd_orig_sub_9_50_64_50 -F "--epochs 50 --kernel 9 --receptive_field 50 --batch_size 64 --data '/scratch/leuven/341/vsc34153/rt-st-gcn/data/pku-mmd-xsubject' --out '/scratch/leuven/341/vsc34153/rt-st-gcn/pretrained_models/pku-mmd-xsubject' --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_train.pbs
#qsub -l walltime=00:00:00 -N st_gcn_pkummd_orig_sub_21_50_64_50 -F "--epochs 50 --kernel 21 --receptive_field 50 --batch_size 64 --data '/scratch/leuven/341/vsc34153/rt-st-gcn/data/pku-mmd-xsubject' --out '/scratch/leuven/341/vsc34153/rt-st-gcn/pretrained_models/pku-mmd-xsubject' --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_train.pbs
#qsub -l walltime=00:00:00 -N st_gcn_pkummd_orig_sub_69_50_64_50 -F "--epochs 50 --kernel 69 --receptive_field 50 --batch_size 64 --data '/scratch/leuven/341/vsc34153/rt-st-gcn/data/pku-mmd-xsubject' --out '/scratch/leuven/341/vsc34153/rt-st-gcn/pretrained_models/pku-mmd-xsubject' --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_train.pbs
#qsub -l walltime=00:00:00 -N st_gcn_pkummd_orig_sub_153_50_64_50 -F "--epochs 50 --kernel 153 --receptive_field 50 --batch_size 64 --data '/scratch/leuven/341/vsc34153/rt-st-gcn/data/pku-mmd-xsubject' --out '/scratch/leuven/341/vsc34153/rt-st-gcn/pretrained_models/pku-mmd-xsubject' --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_train.pbs
#qsub -l walltime=00:00:00 -N st_gcn_pkummd_orig_sub_299_50_64_50 -F "--epochs 50 --kernel 299 --receptive_field 50 --batch_size 64 --data '/scratch/leuven/341/vsc34153/rt-st-gcn/data/pku-mmd-xsubject' --out '/scratch/leuven/341/vsc34153/rt-st-gcn/pretrained_models/pku-mmd-xsubject' --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'" st_gcn_gpu_train.pbs


# Receptive field = 300 can only be run on A100 GPUs (wICE)
sbatch --time 17:00:00 --job-name=st_gcn_pkummd_orig_9_300_64_50 --output debug/st_gcn_pkummd_orig_9_300_64_50.out --error debug/st_gcn_pkummd_orig_9_300_64_50.err st_gcn_gpu_train.slurm --epochs 50 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'
#sbatch --time 00:00:00 --job-name=st_gcn_pkummd_orig_21_300_64_50 --output debug/st_gcn_pkummd_orig_21_300_64_50.out --error debug/st_gcn_pkummd_orig_21_300_64_50.err st_gcn_gpu_train.slurm --epochs 50 --kernel 21 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'
#sbatch --time 00:00:00 --job-name=st_gcn_pkummd_orig_69_300_64_50 --output debug/st_gcn_pkummd_orig_69_300_64_50.out --error debug/st_gcn_pkummd_orig_69_300_64_50.err st_gcn_gpu_train.slurm --epochs 50 --kernel 69 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'
#sbatch --time 00:00:00 --job-name=st_gcn_pkummd_orig_153_300_64_50 --output debug/st_gcn_pkummd_orig_153_300_64_50.out --error debug/st_gcn_pkummd_orig_153_300_64_50.err st_gcn_gpu_train.slurm --epochs 50 --kernel 153 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'
#sbatch --time 00:00:00 --job-name=st_gcn_pkummd_orig_299_300_64_50 --output debug/st_gcn_pkummd_orig_299_300_64_50.out --error debug/st_gcn_pkummd_orig_299_300_64_50.err st_gcn_gpu_train.slurm --epochs 50 --kernel 299 --batch_size 64 --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'

sbatch --time 17:00:00 --job-name=st_gcn_pkummd_orig_sub_9_300_64_50 --output debug/st_gcn_pkummd_orig_sub_9_300_64_50.out --error debug/st_gcn_pkummd_orig_sub_9_300_64_50.err st_gcn_gpu_train.slurm --epochs 50 --batch_size 64 --data '/scratch/leuven/341/vsc34153/rt-st-gcn/data/pku-mmd-xsubject' --out '/scratch/leuven/341/vsc34153/rt-st-gcn/pretrained_models/pku-mmd-xsubject' --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'
#sbatch --time 00:00:00 --job-name=st_gcn_pkummd_orig_sub_21_300_64_50 --output debug/st_gcn_pkummd_orig_sub_21_300_64_50.out --error debug/st_gcn_pkummd_orig_sub_21_300_64_50.err st_gcn_gpu_train.slurm --epochs 50 --kernel 21 --batch_size 64 --data '/scratch/leuven/341/vsc34153/rt-st-gcn/data/pku-mmd-xsubject' --out '/scratch/leuven/341/vsc34153/rt-st-gcn/pretrained_models/pku-mmd-xsubject' --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'
#sbatch --time 00:00:00 --job-name=st_gcn_pkummd_orig_sub_69_300_64_50 --output debug/st_gcn_pkummd_orig_sub_69_300_64_50.out --error debug/st_gcn_pkummd_orig_sub_69_300_64_50.err st_gcn_gpu_train.slurm --epochs 50 --kernel 69 --batch_size 64 --data '/scratch/leuven/341/vsc34153/rt-st-gcn/data/pku-mmd-xsubject' --out '/scratch/leuven/341/vsc34153/rt-st-gcn/pretrained_models/pku-mmd-xsubject' --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'
#sbatch --time 00:00:00 --job-name=st_gcn_pkummd_orig_sub_153_300_64_50 --output debug/st_gcn_pkummd_orig_sub_153_300_64_50.out --error debug/st_gcn_pkummd_orig_sub_153_300_64_50.err st_gcn_gpu_train.slurm --epochs 50 --kernel 153 --batch_size 64 --data '/scratch/leuven/341/vsc34153/rt-st-gcn/data/pku-mmd-xsubject' --out '/scratch/leuven/341/vsc34153/rt-st-gcn/pretrained_models/pku-mmd-xsubject' --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'
#sbatch --time 00:00:00 --job-name=st_gcn_pkummd_orig_sub_299_300_64_50 --output debug/st_gcn_pkummd_orig_sub_299_300_64_50.out --error debug/st_gcn_pkummd_orig_sub_299_300_64_50.err st_gcn_gpu_train.slurm --epochs 50 --kernel 299 --batch_size 64 --data '/scratch/leuven/341/vsc34153/rt-st-gcn/data/pku-mmd-xsubject' --out '/scratch/leuven/341/vsc34153/rt-st-gcn/pretrained_models/pku-mmd-xsubject' --config '/data/leuven/341/vsc34153/rt-st-gcn/config/pku-mmd/original_vsc.json'
